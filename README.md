# xView3

| Model       | Fold 0 | Fold 1 | Fold 2 | Fold 3 | Split | CV               |
|-------------|--------|--------|--------|--------|-------|------------------|
| r34_unet_s4 | 0.5916 | 0.4956 | 0.5128 | 0.5976 | Leaky | 0.5494 +- 0.0527 |
| r18_unet_s2 | 0.5568 | 0.4956 | 0.5098 | 0.5943 | Leaky | 0.5391 +- 0.0451 |
| b4_unet_s2  | 0.5829 | 0.5110 | 0.5217 | 0.6072 | Leaky | 0.5557 +- 0.0467 |
| v2s_unet_s2 | 0.5999 | 0.5127 | 0.5285 | 0.6189 | Leaky | 0.5650 +- 0.0522 |
| b5_unet_s2  | 0.6209 | 0.5104 | 0.5252 | 0.5975 | Full  | 0.5635 +- 0.0539 |

## b5_unet_s2

| Model      | Fold 0 | Fold 1 | Fold 2 | Fold 3 | Holdout | Mean    |
|------------|--------|--------|--------|--------|---------|---------|
| Objectness | 0.250  | 0.325  | 0.35   | 0.3    | 0.51    | 0.30625 |
| Vessel     | 0.3673 | 0.3469 | 0.4081 | 0.1632 | 0.5306  | 0.3213  |
| Fishing    | 0.4489 | 0.6734 | 0.4489 | 0.1836 | 0.4081  | 0.4387  |
| Aggregate  | 0.6209 | 0.5104 | 0.5252 | 0.5975 | 0.6344  | 0.5635 |

## v2s_unet_s2

| Model      | Fold 0 | Fold 1 | Fold 2 | Fold 3 | Holdout | Mean    |
|------------|--------|--------|--------|--------|---------|---------|
| Objectness | 0.4    | 0.4    | 0.4    | 0.4    | 0.51    | 0.4     |
| Vessel     | 0.6938 | 0.0816 | 0.5102 | 0.3637 | 0.5306  | 0.4123  |
| Fishing    | 0.2448 | 0.3061 | 0.6734 | 0.4081 | 0.4285  | 0.4081  |
| Aggregate  | 0.5990 | 0.5127 | 0.5284 | 0.6189 | 0.529   | 0.56475 |

## b4_unet_s2 

| Model      | Fold 0 | Fold 1 | Fold 2 | Fold 3 | Holdout | Mean    |
|------------|--------|--------|--------|--------|---------|---------|
| Objectness | 0.475  | 0.475  | 0.5    | 0.45   | 0.57    | 0.494   |
| Vessel     | 0.1836 | 0.2040 | 0.5102 | 0.4693 | 0.3265  | 0.33872 |
| Fishing    | 0.1836 | 0.3673 | 0.3673 | 0.448  | 0.3877  | 0.35078 |
| Aggregate  | 0.5829 | 0.5110 | 0.5217 | 0.6072 | 0.4944  | 0.5557  |

# Notes

## Nms with kernel size of 3 seems to give optimal performance

heatmap_nms, ks=3
heatmap_nms, ks=5
tight_heatmap_nms, ks=3
tight_heatmap_nms, ks=5

```
loc_fscore	loc_fscore_shore	vessel_fscore	fishing_fscore	length_acc	aggregate	is_vessel_threshold	is_fishing_threshold	objectness_threshold
0.799654	0.471729			0.880184		0.725389		0.63118	    0.593101	0.714286			0.102041				0.5
0.797854	0.457613			0.880431		0.725389		0.631185	0.589553	0.714286			0.102041				0.5
0.79516 	0.477541			0.879449		0.723514		0.630893	0.590231	0.714286			0.102041				0.5
0.798902	0.470016			0.880092		0.725389		0.631419	0.592293	0.714286			0.102041				0.5

```

## 07.09.21 Importance of the output stride (Tested on validation set)

| Stride | loc_fscore         | loc_fscore_shore   | vessel_fscore      | fishing_fscore     | length_acc         |
|-------:|:-------------------|:-------------------|:-------------------|:-------------------|:-------------------|
|     16 | 0.9672289674438594 | 0.9181166837256909 | 0.9983920733562209 | 0.9994728518713759 | 0.9999999785560352 |
|      8 | 0.9948235294117647 | 0.9729249171583286 | 0.999873572421931  | 0.9994783515910277 | 0.9999999785415944 |
|      4 | 0.9997658627955982 | 0.9847407525764958 | 0.9999581607464123 | 1.0                | 0.9999999785510294 |
|      2 | 0.9999219664455716 | 0.9851461427886918 | 1.0                | 1.0                | 0.9999999785488739 |
|      1 | 1.0                | 0.9853892215568862 | 1.0                | 1.0                | 0.9999999785488739 |


## 08.09.21 Dataset imbalance
    
|      Split | Not Vessel | Vessel | Not Fishing | Fishing | Off-Shore | Near Shore | Near Shore & Vessel | Near Shore & Fishing |
|-----------:|-----------:|-------:|------------:|--------:|----------:|-----------:|--------------------:|---------------------:|
|      train |      16692 |  36375 |       23865 |   12510 |     63829 |        284 |                 135 |                   57 |
| validation |       7148 |  11957 |        2930 |     961 |     13053 |       6171 |                4478 |                   25 |
